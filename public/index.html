<!DOCTYPE html>
<html>

<head>
<!-- jQuery, jQuery.ui -->
    <link href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet" type="text/css" />
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>

    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	<title>Angular Crud for Two Resource API</title>
</head>

<body ng-app="cruddyApp">
    <main ng-controller="usersController as usersctrl" ng-init="usersctrl.getUsers()">
        <!-- <section id='createUser'  ng-show="!loginctrl.loggedBool">
            <input type="text" ng-model="usersctrl.username" id="userName" placeholder="Enter username...">
            <input type="text" ng-model="usersctrl.password" id="userPassword" placeholder="Enter password...">
            <button value="Create User" class="btn btn-success btn-sm glyphicon glyphicon-log-in" ng-click="usersctrl.login()"/></button>
        </section> -->
        <section id='login' ng-controller="loginController as loginctrl" >
            <div ng-show="!loginctrl.loggedBool">
                <h1>Login</h1>
                <input select-all-on-focus type="text" ng-model="loginctrl.username" id="userName" placeholder="Enter username...">
                <input select-all-on-focus type="text" ng-model="loginctrl.password" id="userPassword" placeholder="Enter password...">
                <button value="Login" class="btn btn-success btn-sm glyphicon glyphicon-log-in" ng-click="loginctrl.login()"/></button>
            </div>
            <button ng-show="loginctrl.loggedBool" value="Logout" class="btn btn-danger btn-sm glyphicon glyphicon-log-out" ng-click="loginctrl.logout()"/></button>
            <h2>Create a user</h2>      
            <form class="form" ng-submit="usersctrl.createUser(newUser)">
                <input  select-all-on-focus type="text" placeholder="name" ng-required="true" ng-model="newUser.name"/>
                <input select-all-on-focus accept="" type="text" ng-model="newUser.password" id="userPassword" placeholder="Enter password...">
                <input select-all-on-focus type="text" placeholder="SID" ng-model="newUser.sid"/>
                <input select-all-on-focus type="text" placeholder="favorite class" ng-model="newUser.favClass"/>
                <input select-all-on-focus type="reset"/>
                <button type="submit" >Add New User</button>
            </form>

        <section id="users" ng-show="loginctrl.loggedBool">   
            <custom-nav></custom-nav>
            <h2>Users</h2>
            
            <ul>
                <li ng-repeat="user in usersctrl.users">{{user.name}} - {{user.sid}} - {{user.favClass}}
                    <input class="button user-edit" type="button" value="Edit" ng-click="usersctrl.backupUser(user);edit = !edit"/>
                    <form name="userForm" ng-init="!edit" ng-show="edit" action="">
                        <label for="userName"><input select-all-on-focus id="userName" class="input" ng-model="user.name">Name</label><br/>
                        <label for="userSID"><input select-all-on-focus id="userSID" class="input" ng-model="user.sid"> SID</label><br/>    
                        <label for="userFavClass"><input select-all-on-focus id="userFavClass" class="input" ng-model="user.favClass"> favClass</label><br/>    
                        <input  type="reset" value="Cancel" class="btn btn-warning btn-sm glyphicon glyphicon-erase" ng-click="usersctrl.cancelUser(user)"/>
                        <input  type="button" value="Save" class="btn btn-success btn-sm glyphicon glyphicon-floppy-disk" ng-click="usersctrl.updateUser(user);edit = !edit"/>
                        <input  type="button" value="Delete" class="btn btn-danger  btn-sm glyphicon glyphicon-trash" ng-click="usersctrl.deleteUser(user);edit = !edit"/>
                    </form>
                </li>
            </ul>
        </section>
        <section ng-show="loginctrl.loggedBool" id="courses" >
            <div ng-controller="courseController as coursectrl" ng-init="coursectrl.getCourses()">
            <h2>Courses</h2>
            <form class="form" ng-submit="coursectrl.createCourse(newCourse)">
                <input select-all-on-focus type="text" placeholder="dept" ng-required="true" ng-model="newCourse.dept"/>
                <input select-all-on-focus type="text" placeholder="number" ng-model="newCourse.number"/>
                <input select-all-on-focus type="text" placeholder="enrollment" ng-model="newCourse.enrollment"/>
                <input select-all-on-focus type="text" placeholder="maxEnroll" ng-model="newCourse.maxEnroll"/>
                <input type="reset"/>
                <button type="submit" >Add New Course</button>
            </form>
            <ul>
                <li ng-repeat="course in coursectrl.courses">{{course.dept}} {{course.number}} - {{course.enrollment}} / {{course.maxEnroll}}
                    <input class="button course-edit" type="button" value="Edit" ng-click="coursectrl.backupCourse(course);edit = !edit"/>
                    <form name="courseForm" ng-init="!edit" ng-show="edit" action="">
                        <label for="courseDept"><input select-all-on-focus id="courseDept" class="input" ng-model="course.dept"> Course Dept</label><br/>
                        <label for="courseNumber"><input select-all-on-focus id="courseNumber" class="input" ng-model="course.number"> Number</label><br/>    
                        <label for="courseEnrollment"><input select-all-on-focus id="courseEnrollment" class="input" ng-model="course.enrollment"> Enrollment</label><br/>    
                        <label for="courseMaxEnroll"><input select-all-on-focus id="courseMaxEnroll" class="input" ng-model="course.maxEnroll"> Max Enrollment</label><br/>    
                        <input  type="button" value="Cancel" class="btn btn-warning btn-sm glyphicon glyphicon-erase" ng-click="coursectrl.cancelCourse(course)"/>
                        <input  type="button" value="Save" class="btn btn-success btn-sm glyphicon glyphicon-floppy-disk" ng-click="coursectrl.updateCourse(course);edit = !edit"/>
                        <input  type="button" value="Delete" class="btn btn-danger  btn-sm glyphicon glyphicon-trash" ng-click="coursectrl.deleteCourse(course);edit = !edit"/>
                    </form>
                </li>
            </ul>
            </div>
        </section>
        </section>
    </main>

    <script src="./bundle.js"></script>
</body>
</html>